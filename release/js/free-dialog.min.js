!function(t){function e(){l.tipsDialog=new l({content:"气泡",withCloseBtn:!1,clickAroundClose:!0}),l.tips=function(e,o){var i=l.tipsDialog;o=void 0===o?2e3:o,i.setContent(e),i.show(o),"number"==typeof o&&o>0&&(i._closeTimeout&&t.clearTimeout(i._closeTimeout),i._closeTimeout=t.setTimeout(function(){i._closeTimeout=null,i.close()},o))},l.tipsDialog.on("beforeclose",function(){this._closeTimeout&&(t.clearTimeout(this._closeTimeout),this._closeTimeout=null)}),l.alertDialog=new l({title:"提示",footBtns:[{name:"确定",click:function(){this.close()}}],lock:!0}),l.alertDialog.on("beforeclose",function(t){return"function"==typeof this.closeCallbak?this.closeCallbak.apply(this,[t]):void 0}),l.alert=function(t,e,o){var i=l.alertDialog;i.setContent(t),i.setTitle(e||"提示"),i.closeCallbak=o,i.show(null)},l.askDialog=new l({title:"提示",footBtns:[{name:"取消",extraClass:"nagtive",click:function(t){("function"!=typeof this.noCallback||this.noCallback.apply(this,[t])!==!1)&&this.close()}},{name:"确定",extraClass:"positive",click:function(t){("function"!=typeof this.yesCallback||this.yesCallback.apply(this,[t])!==!1)&&this.close()}}],lock:!0}),l.askDialog.on("beforeclose",function(t){return t&&t.target&&t.target.hasAttribute("closeBtn")&&"function"==typeof this.noCallback?this.noCallback.apply(this,[t]):void 0}),l.ask=function(t,e,o,i){var n=l.askDialog;3==arguments.length&&(i=arguments[2],o=arguments[1],e=null),n.setTitle(e||"提示"),n.setContent(t),n.yesCallback=o,n.noCallback=i,n.show(null)}}function o(t,e){return t.classList&&t.classList.contains(e)?t:t.className&&new RegExp("(^| )"+e+"( |$)").test(t.className)?t:t.parentNode&&t.parentNode!=a.body?o(t.parentNode,e):null}function i(e){t.navigator.userAgent.indexOf("UCBrowser")>=0&&(a.body.addEventListener("touchstart",function(t){var i=o(t.target,e);i&&i.classList.add("active")}),a.body.addEventListener("touchend",function(){for(var t,o=a.querySelectorAll("."+e+".active"),i=0;t=o[i];i++)t.classList.remove("active")}))}function n(t,e){for(var o,i=a.getElementsByClassName("dialog-wrapper"),n=0;o=i[n];n++)o.style.width=t+"px",o.style.height=e+"px"}function s(){a.addEventListener("touchstart",function(){}),a.addEventListener("touchmove",function(t){o(t.target,"dialog-wrapper")&&t.preventDefault()}),t.addEventListener("resize",function(){n(t.innerWidth,t.innerHeight)});var s=function(){s.oldHeight&&s.oldHeight==t.innerHeight||(s.oldHeight=t.innerHeight,n(t.innerWidth,t.innerHeight))};t.setInterval(s,1e3),i("dialog-btn"),e()}var a=t.document,l=function(t){var e=t.title||"",o=t.content||null,i=t.footBtns||null,n=void 0===t.lock?!0:t.lock,s=void 0===t.withCloseBtn?!0:t.withCloseBtn,r=t.clickAroundClose,c=t.skin||"",p=this;this.DOM={};var d=this.DOM.wrapper=a.createElement("div"),h=this.DOM.cover=a.createElement("div"),u=this.DOM.container=a.createElement("div"),f=this.DOM.btnClose=a.createElement("a"),v=this.DOM.header=a.createElement("p"),g=this.DOM.body=a.createElement("div"),y=this.DOM.footer=a.createElement("div");d.className="dialog-wrapper closed",h.className="dialog-cover",u.className="dialog-container",f.className="dialog-btn",f.setAttribute("closeBtn",""),v.className="dialog-header",g.className="dialog-body",y.className="dialog-footer",d.appendChild(h),d.appendChild(u),u.appendChild(f),u.appendChild(v),u.appendChild(g),u.appendChild(y),a.body.appendChild(d),this.setTitle(e),this.setContent(o),this.setFootBtns(i),s?this.showCloseBtn():this.hideCloseBtn(),e?this.showTitle():this.hideTitle(),i?this.showFooter():this.hideFooter(),n?this.lock():this.unlock(),this.clickAroundClose=r,d.addEventListener("click",function(t){(t.target==p.DOM.wrapper||t.target==p.DOM.cover)&&p.clickAroundClose&&p.close()}),this.setSkin(c),f.addEventListener("click",function(t){p.close(t)}),this.callbacks={};var m=parseInt(getComputedStyle(d)["z-index"],10);(!l._topZIndex||l._topZIndex<m)&&(l._topZIndex=m)};l._isArray=function(t){return"[object Array]"==Object.prototype.toString.call(t)},l._isHTMLElement=function(t){var e=Object.prototype.toString.call(t);return 0==e.indexOf("[object HTML")&&e.indexOf("Element]")==e.length-"Element]".length},l.prototype.showCloseBtn=function(){var t=this;t.DOM.btnClose.style.display="block",t.withCloseBtn=!0},l.prototype.hideCloseBtn=function(){var t=this;t.DOM.btnClose.style.display="none",t.withCloseBtn=!1},l.prototype.lock=function(){var t=this;t.DOM.cover.classList.remove("hide"),t.locked=!0},l.prototype.unlock=function(){var t=this;t.DOM.cover.classList.add("hide"),t.locked=!1},l.prototype.clearTitle=function(){var t=this;t.DOM.header.innerHTML="",t.title=""},l.prototype.setTitle=function(t){var e=this;e.clearTitle(),l._isHTMLElement(t)?e.DOM.header.appendChild(t):e.DOM.header.innerHTML=t,e.title=t},l.prototype.hideTitle=function(){var t=this;t.DOM.header.style.display="none"},l.prototype.showTitle=function(){var t=this;t.DOM.header.style.display="block"},l.prototype.clearContent=function(){var t=this;t.DOM.body.innerHTML=""},l.prototype.setContent=function(t){var e=this;if(e.clearContent(),t){l._isArray(t)||(t=[t]);for(var o,i=0;o=t[i];i++){var n=a.createElement("p");l._isHTMLElement(o)?n.appendChild(o):n.innerHTML=o,e.DOM.body.appendChild(n)}}e.content=t},l.prototype.clearFootBtns=function(){var t=this;t.DOM.footer.innerHTML=""},l.prototype.setFootBtns=function(t){var e=this;if(e.clearFootBtns(),t){l._isArray(t)||(t=[t]);for(var o,i=0;o=t[i];i++){var n=a.createElement("a");n.className=o.extraClass?"dialog-btn "+o.extraClass:"dialog-btn",n.innerHTML=o.name,function(t){n.addEventListener("click",function(o){t.click.apply(e,[o])})}(o),e.DOM.footer.appendChild(n)}}e.footBtns=t},l.prototype.hideFooter=function(){var t=this;t.DOM.footer.classList.add("hide")},l.prototype.showFooter=function(){var t=this;t.DOM.footer.classList.remove("hide")},l.prototype.setSkin=function(t){var e=this;e.skin&&e.DOM.wrapper.classList.remove(e.skin),t&&e.DOM.wrapper.classList.add(t),e.skin=t},l.prototype.show=function(){var t=this;if(!t.closing){var e=t.trigger("beforeopen",[],!0,!1);if(e!==!1){var o=l._topZIndex+=10;t.DOM.wrapper.style.zIndex=o,t.DOM.cover.style.zIndex=o+1,t.DOM.container.style.zIndex=o+2,t.DOM.wrapper.classList.add("preToShow"),t.DOM.wrapper.classList.remove("closed"),t.DOM.wrapper.offsetWidth=t.DOM.wrapper.offsetWidth,t.DOM.wrapper.classList.remove("preToShow"),t.DOM.wrapper.classList.add("showed"),t.trigger("open",[],!0,!1)}}},l.prototype.close=function(e){var o=this,i=o.trigger("beforeclose",[e],!0,!1);i!==!1&&(o.DOM.wrapper.classList.remove("showed"),o.DOM.wrapper.classList.add("closing"),o.closing=!0,t.setTimeout(function(){o.DOM.wrapper.classList.remove("closing"),o.DOM.wrapper.classList.add("closed"),o.closing=!1,o.trigger("close",[e],!0,!1)},200))},l.prototype.on=function(t,e){var o=this.callbacks[t];"[object Array]"!=Object.prototype.toString.call(o)&&(this.callbacks[t]=o=[]),o.push(e)},l.prototype.trigger=function(t,e,o,i){for(var n,s=this.callbacks[t]||[],a=0;n=s[a];a++){var l=n.apply(this,e);if(l===!1&&o)return l;if(l===!0&&i)return!0}},t.FreeDialog=l,l.tips=function(e,o){t.setTimeout(function(){l.tips(e,o)},100)},l.alert=function(e,o){t.setTimeout(function(){l.alert(e,o)},100)},l.ask=function(e,o,i,n){t.setTimeout(function(){l.tips(e,o,i,n)},100)},t.addEventListener("load",s)}(window);